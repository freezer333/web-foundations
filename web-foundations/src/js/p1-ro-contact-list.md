# Project 1:  A Read-Only Contact List
We've reached the point in this book where we have enough tools to start building real programs.  It's time to **test your skills!**.

For this project you will use static data content to create a static web site - **however** all HTML is to be generated by your web server, from the data.  It will be a bit painful... because you will need to do this without the use of libraries and templates that we will learn later - but that's sort of the point.  The objective is for you to learn how a **basic** implementation must work - so you can understand how best to leverage all of the tools that will come later.  **I'm sorry** &#128528;. 

The specifications are all below, but please look at the demo - this is what your project will look like when you've completed it:

[https://cmps369-p1.onrender.com/](https://cmps369-p1.onrender.com/)

I have created a project [template](https://pages.ramapo.edu/~sfrees/courses/cmps369/projects/p1-template.zip) for you to start with.

## Major League Baseball Standings - 2021 and 2022
The scope of the web site is small.  The site will display MLB team standings for two baseball seasons - 2021 and 2022.  The site will have pages for overall standings, league standings (MLB is divided into two leagues, the American League and the National League) and division standings (each league is divided into East, Central, and West divisions).  For the purposes of this assignment, *standings* are just the list of teams and their win/loss record, sorted by the number of wins (descending order).

## Pages:

- `/` - the homepage will contain one main link, which will go to a page of **all teams**, and a hierarchal list of standings links.

- `/teams` - the teams page will have a single table, with columns for `logo`, `city`, `name`, `code` - with one row for each team.  The headings should be in all capital letters, and the logo column should display the actual team logo, as specified in the `teams.json` file.  There should be a link at the top left to return to the home page.

### Standings
The home page will have a nested list of links, where each year is listed, and within each year, each league, and within each league, each division.  For the data I've given you, the tree of links will look like this:

  - 2022 Season
    - AL
      - East
      - Central
      - West
    - NL
      - East
      - Central
      - West
  - 2021 Season
    - AL
      - East
      - Central
      - West
    - NL
      - East
      - Central
      - West

Each of thos links should bring you to a page, with the standings table consisting of all the team relevant to the link.

Each standings table will contain columns for logo, city, name, wins, and losses.  The tables will be sorted in descending order by wins (so the team with the most wins will be first), and the logo will be displayed as defined in `teams.json`.

- `/standings/2022` - a table with each team, for 2022
- `/standings/2022/AL` - a table with each team in the American League, in 2022.
- `/standings/2022/AL/East` - a table with each team in the American League East, in 2022.
- `/standings/2022/AL/Central` - a table with each team in the American League Central, in 2022.
- `/standings/2022/AL/West` - a table with each team in the American League West, in 2022.
- `/standings/2022/NL` - a table with each team in the National League, in 2022.
- `/standings/2022/NL/East` - a table with each team in the National League East, in 2022.
- `/standings/2022/NL/Central` - a table with each team in the National League Central, in 2022.
- `/standings/2022/NL/West` - a table with each team in the National League West, in 2022.

The links for 2021 are the same format - just for 2021 data.

# Guidance
Take a very close look at `teams.json` and `standings.json` within the project template I have provided.  Make sure you understand what the data represents.  Each team has a `code`, which is a unique abbreviation.  The `code` from `teams.json` is used to identify teams in `standings.json`.

## Reading Data files
The `require` function that you use to include libraries (`http`) actually works for `json` files too - and will return the data found in that file.

```js
const teams = require('./teams.json');
console.log(teams[1].city); 
// Prints Toronto, since the Blue Jays are the second team 
// in the teams list, and their city is Toronto
```

You should use the `require` function to obtain both data files, loaded as JavaScript objects in an Array.  Be sure to print things out, so you understand what the data looks like after reading it into your program!

## Filtering Data
Your program has two core pages - team page, and the standings pages in several permutations (by league, by division, all teams).  The teams page is more straight forward, you will need to create a single page - but it is just all the teams in the `teams.json` file.  The standings pages are basically all the same - just with different subsets of teams.  For this, you will need to filter the master list of standings.

First, you need to be able to determine which type of standings you need, based on the requested URL.

Let's say the incoming request (`req.url`) is `/standings/2022/NL/East`.  You can split the url string into it's corresponding parts using the `split` function for JavaScript strings:

```js
const parts = uri.split('/');
console.log(parts[0]); // standings
console.log(parts[1]); // 2022
console.log(parts[2]); // NL
console.log(parts[3]); // East
```
As you can see above, the first "part" will tell you the request is for a standings page.  If that part was "teams", then you'd be rendering the teams page.

For urls for larger groups - standings for an entire league, or for the whole set of teams - then the `parts` array returned by `split` would have less entries.

I recommend that you build a function that can inspect the `parts` array (although you could name that array anything) and filter standings based on it.  The function should work if just year is specified, if year and league is specified, and if all three (year, league, division) is specified.

## Building Data
The `/teams` page is just a rendering of the `teams.json` file, but the standings pages contain table from **both** the standings and the team files.  I recommend that when building standings, you first filter the standings list based on the the URL (all, league, division).  Then, for each standing, you need to look up the team information based on the `team` attribute - which links to the `code` attribute in `teams.json` data.

It is smart to separate all the logic of filtering standings from the part where you actually build an HTML table.  If you use loops and function parameters well, you should be able to build a single function that accepts a list of standings (with some added info about the team, such as city, name, and log), and produces an HTML string.  That function should be able to work with **any** list of standings.

## Adding a bit of style
Your program should generate plain and simple HTML, using plain and simple string concatenation.  I highly recommend using [Template Literals](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals).

To make your pages look just a little nicer, you should add the following to **every page** you generate, within the `<head>` section of the page.

```html
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.min.css">
```

This will add an external reference to a [css stylesheet](https://watercss.kognise.dev/) that will make your site look a lot like mine.


# What your site should look like:
When you run your web application, and load it into your browser, you should be able to navigate the site.  Here's a **demo** of what your 
project should look like, available here:

[https://cmps369-p1.onrender.com/](https://cmps369-p1.onrender.com/)

Strive to match it as exactly as you can!

# Other considerations
There should be no external dependencies to your application.  Don't use any external JavaScript client-side, or any HTML templating engines (ie. pug) serverside.  Your web application may only use built-in Node.js libraries (`http`, `url`).  Any use of any such libraries defeats the purpose of this exercise!

# Curveball
I have provided data for the 2021 and 2022 season.  You should not assume that this is the data I will test your application with.  Design your application so **ALL** HTML is created from the data.  This means if `teams.json` and `standings.json` contains different teams, years, and image links than the ones I provided you, the site should work just as well.  You should make no assumptions, other than there are leages and divisons.  The names of leagues, names of the divisions, names of teams, number of teams, number of years.... those are all derived from the data, and your program should make no assumptions about them!

For example, your code, when given a teams.json and standings.json [file](p1-alternate.zip) for 1986 NBA standings should work just fine - **without editing any code at all**!

![Screenshot of alternative data - with no code changes](p1-alternate.png "1986 NBA Standings")

*Note, I used NBA as the league attribute, and the NBA conference for the division attribute, since in 1986 the NBA just has an Eastern and Western conference (league) and no divisions.*

